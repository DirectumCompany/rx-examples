# DirectumRXExamples

Репозиторий с примерами слоения прикладной разработки.

## Порядок установки.

1. Для работы требуется установленный Directum RX соответствующей версии.
2. Склонировать репозиторий с DirectumRXExamples в папку.
3. Указать в _ConfigSettings.xml DDS:
```xml
<block name="REPOSITORIES">
  <repository folderName="Base" solutionType="Base" url="" />
  <repository folderName="RX" solutionType="Base" url="<адрес локального репозитория>" />
  <repository folderName="<Папка из п.2>" solutionType="Work" url="https://github.com/DirectumCompany/rx-examples" />
</block>
```

## Кейсы. 

### Преобразование в PDF и наложение отметки об ЭП.

1. Все документы. Изменён логотип и цвет отметки на фиолетовый. В отметку добавлена дата и время подписания. **Точки входа:** серверные методы GetSignatureMarkForSignatureAsHtml и GetSignatureMarkForCertificateAsHtml модуля Docflow.

2. Входящий счёт. Цвет отметки изменён на красный, текст отметки изменен на "ПРИНЯТ К ОПЛАТЕ". **Точка входа:** серверный метод GetSignatureMarkAsHtml документа IncomingInvoice. 

3. Все документы. Изменено условие для интерактивного преобразования документов. Теперь изображения в формате jpg размером < 1 Mb конвертируются интерактивно. **Точка входа:** серверный метод CanConvertToPdfInteractively модуля Docflow. 

4. Служебная записка. На первой странице документа, в верхнем левом углу поставить отметки о всех подписях документа. Отметки ставятся сверху вниз, с небольшим отсутпом друг от друга. **Точка входа:** серверный метод ConvertToPdfAndAddSignatureMark документа Memo. 

### Политики перемещения.
 
 1. Политики перемещения. Добавлено событие "Обращение к документу" в критерии перемещения. Документ перемещается в новое хранилище, если прошло указанное время с даты последнего обращения к документу. **Точки входа:** серверные методы GetStoragePolicySettingsQuery, GetDocumentsToTransferQuery модуля Docflow.
 
 ### Интеллектуальная обработка.
 
 1. Дополнительный классификатор в настройках интеллектуальной обработки. **Точки входа:** серверный метод FillSmartAdditionalClassifiers в инициализации модуля SmartProcessing. Серверный метод CreateIncomingLetter в решении Examples.
 
 ### Валидация панели фильрации.
 
 1. Список "Входящие документы" на обложке модуля Делопроизводство. Реализовано ограничение списка "Входящие документы" при помощи валидация в панели фильтрации. Должен быть заполнен один из критериев: журнал региистрации, от кого, произвольный период. **Точка входа:** действие ShowAllIncomingDocuments обложки модуля Делопроизводство.
